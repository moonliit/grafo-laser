<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Pixel Grid Painter — with Pencil Line Interpolation + Start Marker</title>
  <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
  <style>
    body { font-family: system-ui, -apple-system, "Segoe UI", Roboto, Arial; margin: 16px; }
    #canvas { border: 1px solid #333; image-rendering: pixelated; cursor: crosshair; display:block; }
    .controls { margin-top: 8px; display:flex; gap:12px; align-items:center; flex-wrap:wrap; }
    .control-group { display:flex; gap:6px; align-items:center; }
    button { padding:6px 10px; }
    #info { margin-top: 8px; white-space: pre-wrap; }
  </style>
</head>
<body>
  <h3>Pixel grid painter — paint pixels directly and upload raw pixel array</h3>

  <div class="controls">
    <div class="control-group">
      <label for="gridSize"><strong>Grid size</strong></label>
      <select id="gridSize">
        <option value="32">32 × 32</option>
        <option value="50">50 × 50</option>
        <option value="64" selected>64 × 64</option>
        <option value="100">100 × 100</option>
      </select>
    </div>

    <div class="control-group">
      <button id="clearBtn">Clear canvas</button>
      <button id="computeBtn">Compute walk</button>
      <button id="sendBtn">Send to MQTT</button>
    </div>
  </div>

  <canvas id="canvas" width="512" height="512"></canvas>
  <div id="info"></div>

  <script>
    let currentWalk = []
  </script>
  <script src="ws-mqtt.js"></script>
  <script src="pixel-grid.js"></script>
</body>
</html>
